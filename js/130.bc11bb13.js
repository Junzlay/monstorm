"use strict";(self["webpackChunkmonstorm_fe"]=self["webpackChunkmonstorm_fe"]||[]).push([[130],{3130:(e,t,o)=>{o.r(t),o.d(t,{default:()=>u});var s=o(3673);const a=(0,s.Uk)(" Monthly Expenses");function r(e,t,o,r,i,n){const l=(0,s.up)("q-select"),c=(0,s.up)("q-card"),h=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c,{class:"q-pa-sm text-bold"},{default:(0,s.w5)((()=>[a,(0,s.Wm)(l,{class:"float-right",style:{width:"100px"},"options-dense":"",modelValue:i.yearModel,"onUpdate:modelValue":[t[0]||(t[0]=e=>i.yearModel=e),t[1]||(t[1]=e=>n.filterByYear(i.data,e))],outlined:"",size:"sm",dense:"",options:i.options,label:"Year"},null,8,["modelValue","options"])])),_:1}),(0,s.Wm)(h,{class:"q-mt-sm",type:"bar",height:"350",options:i.chartOptions,series:i.series},null,8,["options","series"])],64)}const i={data(){return{user:JSON.parse(localStorage.getItem("user")),data:[],yearModel:null,options:[],series:[{name:"Total",data:[0,0,0,0,0,0,0,0,0,0,0,0]}],chartOptions:{chart:{height:350,type:"bar"},plotOptions:{bar:{borderRadius:10,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(e){return"₱ "+e},offsetY:-20,style:{fontSize:"12px",colors:["#304758"]}},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],position:"top",axisBorder:{show:!1},axisTicks:{show:!1},crosshairs:{fill:{type:"gradient",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}}},tooltip:{enabled:!0}},yaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1,formatter:function(e){return"₱ "+e}}},title:{text:"",floating:!0,offsetY:330,align:"center",style:{color:"#444"}}}}},created(){this.monthlyIncome()},methods:{filterByYear(e,t){for(let o=0;o<12;o++)this.series[0].data[o]=0;e.forEach(((e,o)=>{e.year==t&&(this.series[0].data[e.month-1]=e.income)}))},async monthlyIncome(){this.$store.dispatch("getMonthlyIncomeCustomer",this.user.id).then((e=>{this.data=e,e.forEach(((e,t)=>{this.options.includes(e.year)||this.options.push(e.year)})),this.yearModel=this.options[this.options.length-1],this.filterByYear(e,this.yearModel)}))}}};var n=o(4260),l=o(151),c=o(3314),h=o(7518),p=o.n(h);const d=(0,n.Z)(i,[["render",r]]),u=d;p()(i,"components",{QCard:l.Z,QSelect:c.Z})}}]);