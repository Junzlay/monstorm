"use strict";(self["webpackChunkmonstorm_fe"]=self["webpackChunkmonstorm_fe"]||[]).push([[620],{5620:(e,l,a)=>{a.r(l),a.d(l,{default:()=>A});var t=a(3673),n=a(1959),s=a(2323),o=a(8880),i=a(5616),u=a(8825),r=a(3617),d=(a(4571),a(8272)),c=a(3774);const m={class:"q-pa-md q-gutter-sm"},p=(0,t._)("div",null,"Details",-1),w=(0,t.Uk)("Close"),f=["src"],g={class:"text-subtitle2 q-ml-sm"},_=(0,t.Uk)("All Transaction "),b={setup(e){const l=(0,n.iH)(!1),a=(0,u.Z)(),b=(0,r.oR)(),v=(0,n.iH)(!1),q=(0,t.f3)("temitter"),k=(0,t.f3)("baseURL"),W=(0,n.iH)(null),{formatDate:h}=i.ZP,y=(0,n.iH)(!0),Z=(0,n.iH)(!1),x=(0,t.f3)("exportTable"),Q=(0,t.Fl)((()=>b.getters.userTransaction));q.on("viewCustomerTransaction",(e=>{W.value=e,b.dispatch("getTransactionByID",e.id).then((e=>{Z.value=e.length>0,y.value=!1})),l.value=!0}));const U=(0,n.iH)(!1),C=()=>{U.value=!0},D=()=>{W.value=null,y.value=!0,Z.value=!1,l.value=!1},S=[{name:"product",label:"Product",align:"left",field:e=>e.product.product_name,format:e=>`${e}`,sortable:!0,icon:"o_local_drink"},{name:"quantity",align:"center",label:"Quantity",field:e=>e.booking.quantity+" item(s)",sortable:!0,icon:"money"},{name:"type",align:"center",field:e=>e.booking.booking_type,label:"Type",sortable:!0,icon:"lock_open"},{icon:"lock_open",name:"delivery",sortable:!0,align:"center",label:"Delivery Date",field:e=>h(e.booking.delivery_date,"MMMM DD, YYYY")},{name:"pickup",icon:"lock_open",align:"center",label:"Pickup Date",field:e=>h(e.booking.pickup_date,"MMMM DD, YYYY")},{name:"date",align:"center",label:"Issued Date",icon:"event",field:e=>h(e.created_at,"MMMM DD, YYYY")}];return(e,i)=>{const u=(0,t.up)("q-space"),r=(0,t.up)("q-tooltip"),b=(0,t.up)("q-btn"),q=(0,t.up)("q-bar"),Y=(0,t.up)("q-skeleton"),M=(0,t.up)("q-avatar"),z=(0,t.up)("q-item-section"),T=(0,t.up)("q-item-label"),H=(0,t.up)("q-item"),I=(0,t.up)("q-list"),j=(0,t.up)("q-card-section"),L=(0,t.up)("q-separator"),P=(0,t.up)("q-card"),V=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.iD)("div",m,[(0,t.Wm)(d.Z),(0,t.Wm)(V,{id:"customerDialog",modelValue:l.value,"onUpdate:modelValue":i[1]||(i[1]=e=>l.value=e),persistent:"",maximized:v.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:(0,t.w5)((()=>[(0,t.Wm)(P,{class:"no-scroll",style:{width:"450px",height:"100vh"}},{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[p,(0,t.Wm)(u),(0,t.Wm)(b,{dense:"",flat:"",icon:"close",onClick:D},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"bg-white text-primary"},{default:(0,t.w5)((()=>[w])),_:1})])),_:1})])),_:1}),(0,t.Wm)(j,null,{default:(0,t.w5)((()=>[(0,t.Wm)(I,null,{default:(0,t.w5)((()=>[(0,t.Wm)(H,{style:{padding:"0"}},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(M,{rounded:"",size:(0,n.SU)(a).screen.xs?"40px":"70px"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(Y,{square:"",size:(0,n.SU)(a).screen.xs?"40px":"70px",animation:"fade"},null,8,["size"]),[[o.F8,!U.value]]),(0,t.wy)((0,t._)("img",{onLoad:C,src:(0,n.SU)(k)+"/getImage/"+W.value.id+"?"+(new Date).getTime()},null,40,f),[[o.F8,U.value]])])),_:1},8,["size"])])),_:1}),(0,t.Wm)(z,null,{default:(0,t.w5)((()=>[(0,t.Wm)(T,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(W.value.name),1)])),_:1}),(0,t.Wm)(T,{caption:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(W.value.phone_number),1)])),_:1})])),_:1}),(0,t.Wm)(z,{side:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)((0,n.SU)(h)(W.value.created_at,"MMMM DD, YYYY")),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.Wm)(j,{class:"q-pt-none"},{default:(0,t.w5)((()=>[(0,t._)("div",g,[_,(0,t.Wm)(b,{class:(0,s.C_)((0,n.SU)(a).screen.xs?"q-ml-lg q-pl-lg":"q-mr-xs float-right"),color:"primary","icon-right":"archive",label:(0,n.SU)(a).screen.xs?"":"Export","no-caps":"",size:"sm",disabled:!Z.value,onClick:i[0]||(i[0]=e=>(0,n.SU)(x)((0,n.SU)(Q),S,`${W.value.name} Transactions`))},null,8,["class","label","disabled"])]),(0,t.Wm)(L,{class:"q-mt-sm"}),(0,t._)("div",{style:{"max-height":"70vh"},class:(0,s.C_)((0,n.SU)(Q).length>10?"scroll":"no-scroll")},[y.value?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},(0,t.Ko)(8,(e=>(0,t.Wm)(H,{key:e},{default:(0,t.w5)((()=>[(0,t.Wm)(z,null,{default:(0,t.w5)((()=>[(0,t.Wm)(T,null,{default:(0,t.w5)((()=>[(0,t.Wm)(Y,{type:"text",width:"25%"})])),_:1}),(0,t.Wm)(T,{caption:""},{default:(0,t.w5)((()=>[(0,t.Wm)(Y,{type:"text",width:"50%"})])),_:1})])),_:1}),(0,t.Wm)(z,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(Y,{type:"QChip"})])),_:1})])),_:2},1024))),64)):((0,t.wg)(),(0,t.j4)((0,n.SU)(c.Z),{key:1,data:(0,n.SU)(Q),class:"q-mt-sm"},null,8,["data"]))],2)])),_:1})])),_:1})])),_:1},8,["modelValue","maximized"])])}}};var v=a(2165),q=a(6778),k=a(151),W=a(846),h=a(2025),y=a(8870),Z=a(5589),x=a(7011),Q=a(3414),U=a(2035),C=a(5096),D=a(4103),S=a(2350),Y=a(5869),M=a(7518),z=a.n(M);const T=b,H=T;z()(b,"components",{QBtn:v.Z,QDialog:q.Z,QCard:k.Z,QBar:W.Z,QSpace:h.Z,QTooltip:y.Z,QCardSection:Z.Z,QList:x.Z,QItem:Q.Z,QItemSection:U.Z,QAvatar:C.Z,QSkeleton:D.ZP,QItemLabel:S.Z,QSeparator:Y.Z});const I={setup(e){const{formatDate:l}=i.ZP,a=[{name:"desc",required:!0,label:"Fullname",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0},{name:"phone_number",align:"center",label:"Phone Number",field:"phone_number",sortable:!0},{name:"address",label:"Address",field:"address",sortable:!0},{name:"date",label:"Date Registered",field:e=>l(e.created_at,"MMMM DD, YYYY"),sortable:!0}],o=(0,r.oR)(),u=(0,t.f3)("exportTable"),d=(0,t.f3)("temitter"),c=((0,n.iH)([1]),(0,n.iH)("")),m=(0,n.iH)(!0);o.dispatch("getAllCustomer");const p=(0,t.Fl)((()=>o.getters.allCustomer)),w=(e,l)=>{d.emit("viewCustomerTransaction",l)};return(0,t.bv)((()=>{"complete"===document.readyState?m.value=!1:document.addEventListener("readystatechange",(function(){"complete"===document.readyState&&(m.value=!1)}))})),(e,l)=>{const o=(0,t.up)("q-icon"),i=(0,t.up)("q-input"),r=(0,t.up)("q-btn"),d=(0,t.up)("q-td"),f=(0,t.up)("q-item-label"),g=(0,t.up)("q-item-section"),_=(0,t.up)("q-chip"),b=(0,t.up)("q-item"),v=(0,t.up)("q-list"),q=(0,t.up)("q-card"),k=(0,t.up)("q-table"),W=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(W,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,{grid:e.$q.screen.xs,title:"Customers",flat:"",rows:(0,n.SU)(p),columns:a,"row-key":"name",filter:c.value,loading:m.value,onRowClick:w},{"top-right":(0,t.w5)((()=>[(0,t.Wm)(i,{filled:"",dense:"",debounce:"300",modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e),placeholder:"Search"},{append:(0,t.w5)((()=>[(0,t.Wm)(o,{name:"search"})])),_:1},8,["modelValue"]),(0,t.Wm)(r,{class:(0,s.C_)(e.$q.screen.xs?"q-ml-lg q-pl-lg":"q-ml-xs"),color:"primary","icon-right":"archive",label:e.$q.screen.xs?"":"Export","no-caps":"",size:"sm",onClick:l[1]||(l[1]=e=>(0,n.SU)(u)((0,n.SU)(p),a,"Monstorm Customer"))},null,8,["class","label"])])),"body-cell":(0,t.w5)((e=>[(0,t.Wm)(d,{props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.value),1)])),_:2},1032,["props"])])),item:(0,t.w5)((l=>[(0,t._)("div",{class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition",style:(0,s.j5)(l.selected?"transform: scale(0.95);":"")},[(0,t.Wm)(q,{class:(0,s.C_)(l.selected?"bg-grey-2":"")},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{dense:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.cols,(a=>((0,t.wg)(),(0,t.j4)(b,{key:a.name},{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(a.label),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(g,{side:""},{default:(0,t.w5)((()=>["carbs"===a.name?((0,t.wg)(),(0,t.j4)(_,{key:0,color:l.row.carbs>24?"green":"red","text-color":"white",dense:"",size:"sm",class:"text-weight-bolder",square:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(a.value),1)])),_:2},1032,["color"])):"actions"===a.name?((0,t.wg)(),(0,t.j4)(d,{key:1},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{dense:"",size:"md",to:"/customer/manage-transaction",round:"",flat:"",color:"primary",icon:"delivery_dining",onClick:a=>e.onEdit(l.row)},null,8,["onClick"])])),_:2},1024)):((0,t.wg)(),(0,t.j4)(f,{key:2,class:(0,s.C_)(a.classes?a.classes:"")},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(a.value),1)])),_:2},1032,["class"]))])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1032,["class"])],4)])),_:1},8,["grid","rows","filter","loading"]),(0,t.Wm)(H)])),_:1})}}};var j=a(4379),L=a(7678),P=a(4842),V=a(4554),$=a(3884),F=a(7030);const R=I,A=R;z()(I,"components",{QPage:j.Z,QTable:L.Z,QInput:P.Z,QIcon:V.Z,QBtn:v.Z,QTd:$.Z,QCard:k.Z,QList:x.Z,QItem:Q.Z,QItemSection:U.Z,QItemLabel:S.Z,QChip:F.Z})}}]);