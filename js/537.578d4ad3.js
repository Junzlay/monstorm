"use strict";(self["webpackChunkmonstorm_fe"]=self["webpackChunkmonstorm_fe"]||[]).push([[537],{2537:(e,l,t)=>{t.r(l),t.d(l,{default:()=>W});t(246);var o=t(3673),a=t(9582),n=t(3617),u=t(1959),i=t(8825);const r={class:"q-pa-md q-gutter-sm"},s={setup(e){const l=(0,u.iH)("test"),t=e=>{console.log(e)};return(e,a)=>{const n=(0,o.up)("q-editor"),u=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(n,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),flat:"","content-class":"bg-indigo-1","toolbar-text-color":"white","toolbar-toggle-color":"yellow-8","toolbar-bg":"primary",toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],[{icon:e.$q.iconSet.editor.fontSize,list:"only-icons",options:["bold","italic","underline"]}],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h3","h4","h5","h6","code"]}]]},null,8,["modelValue","toolbar"]),(0,o.Wm)(u,{onClick:a[1]||(a[1]=e=>t(l.value)),style:{background:"#e0e0e0",color:"#474e5a"},unelevated:"",label:"test"})])}}};var c=t(5986),d=t(2165),m=t(7518),p=t.n(m);p()(s,"components",{QEditor:c.Z,QBtn:d.Z});const g=(0,o._)("div",{class:"text-h6 q-mb-md"},"Details",-1),v={setup(e){const l=(0,i.Z)(),t=(0,u.iH)(null),r=(0,u.iH)(!1),s=(0,u.iH)(null),c=(0,a.tv)(),d=(0,u.iH)(null),m=(0,u.iH)(null),p=(0,u.iH)(null),v=(0,n.oR)(),b=(0,o.f3)("emitter");(0,u.iH)("add");c.currentRoute.value.params&&(t.value=c.currentRoute.value.params.id,s.value=c.currentRoute.value.query,m.value=c.currentRoute.value.params.title,p.value=c.currentRoute.value.params.description),b.on("editItem",(e=>{console.log(e)}));const f=async()=>{r.value=!0,void 0===c.currentRoute.value.params.title?y():h()},y=async()=>{await v.dispatch("createAnnouncement",{title:m.value,description:p.value}).then((e=>{201==e.status&&(r.value=!1,c.back(),l.notify({message:"New announcement was added",color:"primary"}))})).catch((e=>{r.value=!1,l.notify({message:"Something went wrong",color:"negative"}),console.log(e)}))},h=()=>{v.dispatch("updateAnnouncement",{id:t.value,title:m.value,description:p.value}).then((e=>{e&&(c.back(),l.notify({message:"Update Successfully",color:"primary"}))})).catch((e=>{c.back(),l.notify({message:"Something went wrong",color:"negative"}),console.log(e)}))};return(e,l)=>{const t=(0,o.up)("q-input"),a=(0,o.up)("q-card-section"),n=(0,o.up)("q-btn"),u=(0,o.up)("q-spinner-facebook"),i=(0,o.up)("q-card-actions"),s=(0,o.up)("q-card"),c=(0,o.up)("q-form"),v=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{ref_key:"myForm",ref:d,autocomplete:"off",onSubmit:f},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{class:"my-card shadow-0"},{default:(0,o.w5)((()=>[(0,o.Wm)(a,null,{default:(0,o.w5)((()=>[g,(0,o.Wm)(t,{class:"q-mb-sm",modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=e=>m.value=e),"bg-color":"indigo-1",filled:"",label:"Title","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,o.Wm)(t,{modelValue:p.value,"onUpdate:modelValue":l[1]||(l[1]=e=>p.value=e),"bg-color":"indigo-1",filled:"",label:"Description",outlined:"",type:"textarea","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"])])),_:1}),(0,o.Wm)(i,{align:"right"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{onClick:l[2]||(l[2]=l=>e.$router.back()),style:{background:"#e0e0e0",color:"#474e5a"},unelevated:"",label:"Cancel"}),(0,o.Wm)(n,{loading:r.value,type:"submit",unelevated:"",style:{background:"#4b88fe",color:"white"},label:"Save"},{loading:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1},512)])),_:1})}}};var b=t(4379),f=t(5269),y=t(151),h=t(5589),w=t(4842),q=t(9367),k=t(8719);const S=v,W=S;p()(v,"components",{QPage:b.Z,QForm:f.Z,QCard:y.Z,QCardSection:h.Z,QInput:w.Z,QCardActions:q.Z,QBtn:d.Z,QSpinnerFacebook:k.Z})}}]);