(self["webpackChunkmonstorm_fe"]=self["webpackChunkmonstorm_fe"]||[]).push([[681],{8681:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var o=s(3673),a=s(2323),l=s(9187),n=s.n(l);const r=e=>((0,o.dD)("data-v-49fc6d71"),e=e(),(0,o.Cn)(),e),i={class:"row"},d=r((()=>(0,o._)("div",{class:"col gt-sm inline login"},[(0,o._)("div",{class:"vertical-middle"},[(0,o._)("div",{class:"text-h6 text-bold q-pl-lg q-ml-lg q-pt-lg",style:{color:"#4b88fe"}}," Monstorm "),(0,o._)("div",{class:"q-pl-lg q-ml-lg text-grey-10"}," Water Refilling Booking Services "),(0,o._)("img",{src:n(),style:{"max-width":"350px"},class:"responsive",alt:"login-image"})])],-1))),u={class:"col q-pa-md"},c={class:""},m=r((()=>(0,o._)("div",{class:"text-h6 q-mt-sm text-weight-bold q-pt-lg q-pl-md q-pr-md",style:{color:"#474e5a"}}," Welcome to Monstorm ",-1))),p={class:"q-my-none text-grey-9 q-pl-md q-pr-md"},h=(0,o.Uk)(" Don't have an account? "),g=(0,o.Uk)(" Sign in "),b={class:"text-center text-grey-9"};function _(e,t,s,l,n,r){const _=(0,o.up)("q-icon"),w=(0,o.up)("q-input"),q=(0,o.up)("q-spinner-facebook"),v=(0,o.up)("q-btn"),f=(0,o.up)("q-form"),y=(0,o.up)("q-card-section"),S=(0,o.up)("q-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(S,{style:(0,a.j5)(e.$q.screen.lt.sm?{width:"90%"}:{width:"60%"}),class:(0,a.C_)(e.$q.screen.lt.md?[e.containerSmall]:[e.containerClass])},{default:(0,o.w5)((()=>[(0,o._)("div",i,[d,(0,o._)("div",u,[(0,o._)("div",c,[m,(0,o._)("p",p,[h,(0,o._)("span",{style:{color:"#4b88fe",cursor:"pointer"},onClick:t[0]||(t[0]=e=>this.$router.push("/register"))},"Sign up")]),(0,o.Wm)(y,{class:"q-pr-sm q-mr-md q-pt-sm q-mt-md",style:{}},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"q-gutter-md",onSubmit:r.onSubmit,onReset:r.onReset},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{modelValue:e.authDetails.phone_number,"onUpdate:modelValue":t[1]||(t[1]=t=>e.authDetails.phone_number=t),label:"Phone Number",debounce:"500",rules:[e=>!!e||"Field is required",r.isValidPhoneNumber]},{append:(0,o.w5)((()=>[(0,o.Wm)(_,{name:"tag"})])),_:1},8,["modelValue","rules"]),(0,o.Wm)(w,{debounce:"500",modelValue:e.authDetails.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.authDetails.password=t),label:"Password",type:e.isPwd?"password":"text",rules:[e=>!!e||"Field is required"]},{append:(0,o.w5)((()=>[(0,o.Wm)(_,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[2]||(t[2]=t=>e.isPwd=!e.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type","rules"]),(0,o._)("div",null,[(0,o.Wm)(v,{loading:e.loading,unelevated:"",class:"full-width",style:{background:"#708cf0",color:"white"},size:"md",label:"Sign in",type:"submit"},{loading:(0,o.w5)((()=>[(0,o.Wm)(q,{class:"on-left"}),g])),_:1},8,["loading"])])])),_:1},8,["onSubmit","onReset"])])),_:1}),(0,o._)("p",b,[(0,o._)("span",{onClick:t[4]||(t[4]=e=>this.$router.push("/forgot-password")),style:{cursor:"pointer",color:"#4b88fe"}},"Forgot Password")])])])])])),_:1},8,["style","class"])])}var w=s(8825),q=s(3617);s(4434);let v;const f={name:"Login",components:{},data:()=>({loading:!1,user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):"",authDetails:{phone_number:"",password:""},isPwd:!0,accept:!1,containerClass:"shadow-8 vertical-center rounded-card login-container  ",containerSmall:"shadow-8 vertical-center rounded-card login-container q-mt-lg q-pb-lg"}),mounted(){v=(0,w.Z)();const e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("user"));e?"admin"===t.user_type?this.$router.push("/admin/dashboard"):"user"===t.user_type&&this.$router.push("/customer/dashboard"):this.$router.push("/login")},created(){},methods:{...(0,q.nv)("auth",["doLogin"]),async onSubmit(){this.loading=!0,13===this.authDetails.phone_number.length&&(this.authDetails.phone_number="0"+this.authDetails.phone_number.slice(3));try{await this.doLogin(this.authDetails);const e=JSON.parse(localStorage.getItem("user"));"admin"===e.user_type?this.$router.push("admin"):"customer"===e.user_type&&this.$router.push("customer")}catch(e){this.loading=!1,this.$q.notify({color:"red-5",position:"top",textColor:"white",icon:"fas fa-exclamation-triangle",message:"Invalid Phone Number or Password"})}},isValidPhoneNumber(e){const t=/^(09|\+639)\d{9}$/;return t.test(e)||"Invalid Mobile Number"},onReset(){this.name=null,this.age=null,this.accept=!1}}};var y=s(4260),S=s(151),k=s(5589),x=s(5269),C=s(4842),D=s(4554),P=s(2165),W=s(8719),$=s(7518),I=s.n($);const Z=(0,y.Z)(f,[["render",_],["__scopeId","data-v-49fc6d71"]]),N=Z;I()(f,"components",{QCard:S.Z,QCardSection:k.Z,QForm:x.Z,QInput:C.Z,QIcon:D.Z,QBtn:P.Z,QSpinnerFacebook:W.Z})},9187:(e,t,s)=>{e.exports=s.p+"img/login-removebg-preview.2863adac.png"}}]);